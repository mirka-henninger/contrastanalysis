<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>contrastanalysis • contrastanalysis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="contrastanalysis">
<meta property="og:description" content="contrastanalysis">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">contrastanalysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/contrastanalysis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="contrastanalysis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>contrastanalysis</h1>
                        <h4 data-toc-skip class="author">Mirka Henninger &amp; Simone Malejka</h4>
            
            <h4 data-toc-skip class="date">2022-11-11</h4>
      
      
      <div class="hidden name"><code>contrastanalysis.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p><strong>contrastanalysis</strong> allows to perform contrast analyses for independent and dependent samples. In addition to standard contrast analyses, methods are provided to test two competing hypotheses can be tested against each other. All functions and explanations are based on Rosenthal, Rosnow, and Rubin(2000) as well as Sedlmeier and Renkewitz (2008).</p>
<p>Contrast analyses are a sensible alternative to standard variance analyses as it allows to test specific, directed, a priori hypotheses. This leads to results that are easier to interpret and effects can be detected with a higher power.</p>
</div>
<div class="section level3">
<h3 id="the-first-steps">The first steps<a class="anchor" aria-label="anchor" href="#the-first-steps"></a>
</h3>
<p>After the contrastanalysis package has been installed, we load it by the following command.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">contrastanalysis</span><span class="op">)</span></span></code></pre></div>
<p>To illustrate the functions of this package, we use two datasets that are already available in R: a subset of variables of the <strong>iris</strong> data for contrast analysis for independent samples and <strong>president</strong> for contrast analyses for dependent samples. We load the data using the following code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"iris"</span><span class="op">)</span></span>
<span><span class="va">iris</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="st">"Petal.Length"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">presidents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Qtr1<span class="op">=</span><span class="va">presidents</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                         Qtr2<span class="op">=</span><span class="va">presidents</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                         Qtr3<span class="op">=</span><span class="va">presidents</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                         Qtr4<span class="op">=</span><span class="va">presidents</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">presidents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span></span>
<span><span class="co"># some overview of the data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span>, type <span class="op">=</span> <span class="st">"b"</span>, main <span class="op">=</span> <span class="st">"Example used \nfor independent samples"</span>, xlab <span class="op">=</span> <span class="st">"Species"</span>, ylab <span class="op">=</span> <span class="st">"Petal Length"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"b"</span>, main <span class="op">=</span> <span class="st">"Example used \nfor dependent samples"</span>, xlab <span class="op">=</span> <span class="st">"Calendar Quarter"</span>, ylab <span class="op">=</span> <span class="st">"Approval Ratings"</span><span class="op">)</span></span></code></pre></div>
<p><img src="contrastanalysis_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
<p>The <strong>iris</strong> dataset contains the independent variable <strong>Species</strong> with three groups (setosa, versicolor, and virginica) and the dependent variable <strong>Petal.Length</strong>. The <strong>presidents</strong> datasets contains quarterly approval rating for the US presidents.</p>
<p>We show how to test a priori specified hypotheses using planned contrast analysis, but also how to directly test two competing contrasts against each other. We will give an example of each approach for independent samples using the <strong>iris</strong> dataset and for dependent samples using the <strong>presidents</strong> dataset.</p>
</div>
<div class="section level3">
<h3 id="contrast-analysis-for-independent-samples">Contrast analysis for independent samples<a class="anchor" aria-label="anchor" href="#contrast-analysis-for-independent-samples"></a>
</h3>
<p>We would like to compare petal length of different species of iris. We have two hypotheses:</p>
<p><span class="math inline">\(H_1\)</span>: An increase in petal length from setosa over versicolor to virginica</p>
<p><span class="math inline">\(H_2\)</span>: Setosa has smaller petal length than versicolor and virginica</p>
<p>For <span class="math inline">\(p=3\)</span> groups of species, we can perform <span class="math inline">\(p-1=2\)</span> planned contrasts. The contrast weights of the two contrasts are based on the two hypotheses:</p>
<p><span class="math inline">\(\lambda_{H_1} = (-1,0,1)\)</span></p>
<p><span class="math inline">\(\lambda_{H_2} = (-1,0.5,0.5)\)</span> <span class="math inline">\(\lambda_{H_2} = (-1,0.5,0.5)\)</span></p>
<p>Using these specification we can perform a contrast analysis for independent samples using the package.</p>
<div class="section level4">
<h4 id="testing-planned-contrasts">Testing planned contrasts<a class="anchor" aria-label="anchor" href="#testing-planned-contrasts"></a>
</h4>
<p>The contrast weights <span class="math inline">\(\boldsymbol{\lambda}\)</span> are assigned to an object using the matrix function in R with contrasts in rows and groups in columns. The data must contain subjects in rows and two columns: the first columns contains the group indicator (here <strong>Species</strong>), the second column contains the dependent variable (here <strong>Petal.Length</strong>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># extract the number of groups</span></span>
<span><span class="op">(</span><span class="va">n_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span></span>
<span><span class="co"># define lambda weights</span></span>
<span><span class="va">lambda1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span> <span class="co"># H1: An increase from setosa over versicolor to virginica</span></span>
<span><span class="va">lambda2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span> <span class="co"># H2: Setosa has smaller petal length than versicolor and virginica</span></span>
<span></span>
<span><span class="co"># perform contrast analysis</span></span>
<span><span class="fu"><a href="../reference/contrast_independent.html">contrast_independent</a></span><span class="op">(</span><span class="va">n_group</span>, <span class="va">lambda1</span>, <span class="va">iris</span><span class="op">)</span></span>
<span><span class="co">#&gt; Please note that each contrast is tested separately, the contrast are not tested jointly!</span></span>
<span><span class="co">#&gt; * When the contrasts are orthogonal and the samples size is equal in all groups, the results from contrasts tested separately is equal to the results from contrasts</span></span>
<span><span class="co">#&gt; tested together.</span></span>
<span><span class="co">#&gt; * However, the results may differ when non-orthogonal contrasts are tested separately.</span></span>
<span><span class="co">#&gt; * You may want to switch to an alternative package to conduct a joint test of all contrasts</span></span>
<span><span class="co">#&gt;                  SS  df contrast_estimate t_value  F_value p_value</span></span>
<span><span class="co">#&gt; Contrast 1 418.2025 147              4.09 47.5212 2258.262       0</span></span>
<span><span class="co">#&gt;            r_effect_size r_alerting r2_alerting r_contrast</span></span>
<span><span class="co">#&gt; Contrast 1         0.949     0.9781      0.9568      0.969</span></span>
<span><span class="fu"><a href="../reference/contrast_independent.html">contrast_independent</a></span><span class="op">(</span><span class="va">n_group</span>, <span class="va">lambda2</span>, <span class="va">iris</span><span class="op">)</span></span>
<span><span class="co">#&gt; Please note that each contrast is tested separately, the contrast are not tested jointly!</span></span>
<span><span class="co">#&gt; * When the contrasts are orthogonal and the samples size is equal in all groups, the results from contrasts tested separately is equal to the results from contrasts</span></span>
<span><span class="co">#&gt; tested together.</span></span>
<span><span class="co">#&gt; * However, the results may differ when non-orthogonal contrasts are tested separately.</span></span>
<span><span class="co">#&gt; * You may want to switch to an alternative package to conduct a joint test of all contrasts</span></span>
<span><span class="co">#&gt;                  SS  df contrast_estimate t_value  F_value p_value</span></span>
<span><span class="co">#&gt; Contrast 1 395.3712 147             6.888 46.2058 2134.975       0</span></span>
<span><span class="co">#&gt;            r_effect_size r_alerting r2_alerting r_contrast</span></span>
<span><span class="co">#&gt; Contrast 1        0.9228     0.9511      0.9045     0.9673</span></span></code></pre></div>
<p>The output of the <strong>contrast_independent</strong> function contains results for both contrasts: Sums of squares and corresponding F-values, contrast estimates and corresponding <span class="math inline">\(t\)</span>-values as well as two-tailed <span class="math inline">\(p\)</span>-values. Furthermore, it contains several effect sizes, such as r_{} which can be interpreted as a correlation between the dependent variable and the contrast weights, <span class="math inline">\(r_{\text{alerting}}\)</span> corresponding to the correlation between group means and contrast weights, <span class="math inline">\(r_{\text{alerting}}^2\)</span> which can be interpreted similar to a determination coefficient as a measured of explained variance by the contrast <span class="math inline">\(\Big(\frac{SS_{\text{contrast}}}{SS_{\text{between}}}\Big)\)</span>. <span class="math inline">\(r_{\text{contrast}}\)</span> is defined as <span class="math inline">\(r_{\text{contrast}} = \sqrt{\frac{t^2}{t^2 + df}}\)</span> and is useful for power analyses.</p>
<p>The results of this empirical example show that for <span class="math inline">\(\alpha = .05\)</span>, Contrast 1 and Contrast 2 fit the data well, as all <span class="math inline">\(t &gt; 46.21\)</span> and all <span class="math inline">\(p &lt; .001\)</span>. Hence, it seems that there is an increase in petal length from setosa over versicolor to virginica, and at the same time the results suggest that setosa has smaller petal length than versicolor and virginica.</p>
</div>
<div class="section level4">
<h4 id="testing-competing-contrasts-against-each-other">Testing competing contrasts against each other<a class="anchor" aria-label="anchor" href="#testing-competing-contrasts-against-each-other"></a>
</h4>
<p>However, one may not be interested in whether there is support for H1 and/or H2 in the data, but in <em>which</em> of the two hypotheses H1 and H2 outperforms the other. We can directly test the two competing hypotheses against each other:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define lambda weights</span></span>
<span><span class="va">lambda1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>  <span class="co"># H1: Iris versicolor is distinct to Iris setosa and Iris virginica</span></span>
<span><span class="va">lambda2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>  <span class="co"># H2: Iris versicolor is more similar to Iris virginica</span></span>
<span></span>
<span><span class="co"># Perform contrast analysis</span></span>
<span><span class="fu"><a href="../reference/compare_independent.html">compare_independent</a></span><span class="op">(</span>n_group<span class="op">=</span><span class="fl">3</span>, lambda_preferred <span class="op">=</span> <span class="va">lambda1</span>, lambda_competing <span class="op">=</span> <span class="va">lambda2</span>, <span class="va">iris</span><span class="op">)</span></span>
<span><span class="co">#&gt; Please note that each contrast is tested separately, the contrast are not tested jointly!</span></span>
<span><span class="co">#&gt; * When the contrasts are orthogonal and the samples size is equal in all groups, the results from contrasts tested separately is equal to the results from contrasts</span></span>
<span><span class="co">#&gt; tested together.</span></span>
<span><span class="co">#&gt; * However, the results may differ when non-orthogonal contrasts are tested separately.</span></span>
<span><span class="co">#&gt; * You may want to switch to an alternative package to conduct a joint test of all contrasts</span></span>
<span><span class="co">#&gt; $results</span></span>
<span><span class="co">#&gt;                SS  df contrast_estimate t_value F_value p_value r_effect_size</span></span>
<span><span class="co">#&gt; Contrast 1 1.1958 147            0.1387  2.5411  6.4574  0.0121        0.0507</span></span>
<span><span class="co">#&gt;            r_alerting r2_alerting r_contrast</span></span>
<span><span class="co">#&gt; Contrast 1     0.0523      0.0027     0.2051</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contrast_weights</span></span>
<span><span class="co">#&gt;   lambda_preferred_std lambda_competing_std lambda_diff</span></span>
<span><span class="co">#&gt; 1            -1.224745           -1.4142136   0.1894687</span></span>
<span><span class="co">#&gt; 2             0.000000            0.7071068  -0.7071068</span></span>
<span><span class="co">#&gt; 3             1.224745            0.7071068   0.5176381</span></span></code></pre></div>
<p>The output of the <strong>compare_independent</strong> function contains the same information as <strong>contrast_independent</strong> in terms of test statistics and effect sizes. But, results are shown for one test only, namely a different comparison of the two hypotheses. In addition, the standardized contrast weights as well as their difference that is used for the contrast analyses are shown in the output.</p>
<p>When the <em>t</em>-value of the summary of results is positive and significantly different from 0, the data supports Hypothesis H1, while the data support hypothesis H2 when the <em>t</em>-value is negative and significantly different from 0. Hence, the results of this direct comparison show that for α = .05, Contrast 1 does outperform Contrast 2 as <em>t</em> = 2.54 and <em>p</em> = .014. Hence, it seems that there is an increase in petal length from setosa over versicolor to virginica rather than setosa having smaller petal length than versicolor and virginica together. The results suggest that although Iris versicolor is a hybrid of the two other species, it is very similar to Iris virginica with regards to its petal length.</p>
</div>
</div>
<div class="section level3">
<h3 id="contrast-analysis-for-dependent-samples">Contrast analysis for dependent samples<a class="anchor" aria-label="anchor" href="#contrast-analysis-for-dependent-samples"></a>
</h3>
<p>We would like to compare quarterly approval rating for the US presidents and again we have two hypotheses:</p>
<p>H1: A decrease in approval ratings with stagnation over warmer months</p>
<p>H2: A linear decrease in approval ratings</p>
<p>Please note that for p = 4 measurement occasions, we could perform a maximum p - 1 = 3 planned contrasts. However, as we only have two hypotheses, we only specify two contrast weight vectors:</p>
<p>λ(H1) = (-1, 0, 0, 1)</p>
<p>λ(H2) = (1, 1/3, -1/3, -1)</p>
<p>Using these specification we can perform a contrast analysis for dependent samples using the package.</p>
<div class="section level4">
<h4 id="testing-planned-contrasts-1">Testing planned contrasts<a class="anchor" aria-label="anchor" href="#testing-planned-contrasts-1"></a>
</h4>
<p>As for the contrast analysis for independent samples, the contrast weights λ are assigned to an object using the matrix function in R with contrasts in rows and groups in columns. The data must contain subjects in rows and <em>p</em> columns, one for each measurement occasions that contain the dependent variable.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">n_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">presidents</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span></span>
<span><span class="co"># define lambda weights</span></span>
<span><span class="va">lambda1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="co"># H1: decrease in approval ratings with stagnation over warmer months</span></span>
<span><span class="va">lambda2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="co"># H2: linear decrease in  approval ratings</span></span>
<span></span>
<span><span class="co"># perform contrast analysis</span></span>
<span><span class="fu"><a href="../reference/contrast_dependent.html">contrast_dependent</a></span><span class="op">(</span><span class="va">n_group</span>, <span class="va">lambda1</span>, <span class="va">presidents</span><span class="op">)</span></span>
<span><span class="co">#&gt; Please note that each contrast is tested separately, the contrast are not tested jointly!</span></span>
<span><span class="co">#&gt; * When the contrasts are orthogonal and the samples size is equal in all groups, the results from contrasts tested separately is equal to the results from contrasts</span></span>
<span><span class="co">#&gt; tested together.</span></span>
<span><span class="co">#&gt; * However, the results may differ when non-orthogonal contrasts are tested separately.</span></span>
<span><span class="co">#&gt; * You may want to switch to an alternative package to conduct a joint test of all contrasts</span></span>
<span><span class="co">#&gt;            df contrast_estimate t_value F_value p_value      g</span></span>
<span><span class="co">#&gt; Contrast 1 25            7.9231  3.1008  9.6148  0.0047 0.6081</span></span>
<span><span class="fu"><a href="../reference/contrast_dependent.html">contrast_dependent</a></span><span class="op">(</span><span class="va">n_group</span>, <span class="va">lambda2</span>, <span class="va">presidents</span><span class="op">)</span></span>
<span><span class="co">#&gt; Please note that each contrast is tested separately, the contrast are not tested jointly!</span></span>
<span><span class="co">#&gt; * When the contrasts are orthogonal and the samples size is equal in all groups, the results from contrasts tested separately is equal to the results from contrasts</span></span>
<span><span class="co">#&gt; tested together.</span></span>
<span><span class="co">#&gt; * However, the results may differ when non-orthogonal contrasts are tested separately.</span></span>
<span><span class="co">#&gt; * You may want to switch to an alternative package to conduct a joint test of all contrasts</span></span>
<span><span class="co">#&gt;            df contrast_estimate t_value F_value p_value      g</span></span>
<span><span class="co">#&gt; Contrast 1 25            8.0641  3.2389 10.4904  0.0034 0.6352</span></span></code></pre></div>
<p>The output of the <strong>contrast_dependent</strong> function contains results for both contrasts: F-values, contrast estimates and corresponding <em>t</em>-values as well as two-tailed <em>p</em>-values. Furthermore, it contains the effect size <em>g</em>, a standardized distance measure.</p>
<p>The results of this empirical example show that for α = .05, Contrast 1 and Contrast 2 fit the data well, as all <em>t</em> &gt; 3.10 and all <em>p</em> &lt; .003. Hence, it seems that presidential approval ratings decrease over the four calendar quarters, but it cannot be identified whether or not this decrease stagnates over warmer months.</p>
</div>
<div class="section level4">
<h4 id="testing-competing-contrasts-against-each-other-1">Testing competing contrasts against each other<a class="anchor" aria-label="anchor" href="#testing-competing-contrasts-against-each-other-1"></a>
</h4>
<p>To directly compare the two contrasts and test whether the decrease stagnates over the summer months, we directly test the two competing hypotheses against each other:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define lambda weights</span></span>
<span><span class="va">lambda1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>   <span class="co"># H1: decrease in approval ratings with stagnation over warmer months</span></span>
<span><span class="va">lambda2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="co"># H2: linear decrease in  approval ratings</span></span>
<span></span>
<span><span class="co"># perform contrast analysis</span></span>
<span><span class="fu"><a href="../reference/compare_dependent.html">compare_dependent</a></span><span class="op">(</span>n_group<span class="op">=</span><span class="va">n_group</span>, lambda_preferred <span class="op">=</span> <span class="va">lambda1</span>, lambda_competing <span class="op">=</span> <span class="va">lambda2</span>, <span class="va">presidents</span><span class="op">)</span></span>
<span><span class="co">#&gt; Please note that each contrast is tested separately, the contrast are not tested jointly!</span></span>
<span><span class="co">#&gt; * When the contrasts are orthogonal and the samples size is equal in all groups, the results from contrasts tested separately is equal to the results from contrasts</span></span>
<span><span class="co">#&gt; tested together.</span></span>
<span><span class="co">#&gt; * However, the results may differ when non-orthogonal contrasts are tested separately.</span></span>
<span><span class="co">#&gt; * You may want to switch to an alternative package to conduct a joint test of all contrasts</span></span>
<span><span class="co">#&gt; $results</span></span>
<span><span class="co">#&gt;            df contrast_estimate t_value F_value p_value      g</span></span>
<span><span class="co">#&gt; Contrast 1 25            0.3858  0.5439  0.2958  0.5914 0.1067</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $contrast_weights</span></span>
<span><span class="co">#&gt;   lambda_preferred_std lambda_competing_std lambda_diff</span></span>
<span><span class="co">#&gt; 1             1.414214            1.3416408  0.07257278</span></span>
<span><span class="co">#&gt; 2             0.000000            0.4472136 -0.44721360</span></span>
<span><span class="co">#&gt; 3             0.000000           -0.4472136  0.44721360</span></span>
<span><span class="co">#&gt; 4            -1.414214           -1.3416408 -0.07257278</span></span></code></pre></div>
<p>The output of the <strong>compare_dependent</strong> function mirrors the information from <strong>contrast_dependent</strong>, but only shows results for one test only, namely a different comparison of the two hypotheses and shows the standardized contrast weights as well as their difference that is used for the contrast analyses.</p>
<p>Similar to the <strong>compare_independent</strong> function, the data supports Hypothesis H1 when the <em>t</em>-value of the summary of results is positive and significantly different from 0, while the data support hypothesis H2 when the <em>t</em>-value is negative and significantly different from 0. Hence, the results of this direct comparison show that for α = .05 neither of the two contrasts outperforms the other as <em>t</em> = 0.53 and <em>p</em> = .59. Hence, there is a decrease in approval ratings, but it is not decisive whether this decrease stagnates over the summer months or not.</p>
</div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Rosenthal, R., Rosnow, R. L., &amp; Rubin, D. B. (2000). Contrasts and effect sizes in behavioral research: A correlational approach. Cambridge University Press.</p>
<p>Sedlmeier, P., &amp; Renkewitz, F. (2008). Forschungsmethoden und Statistik in der Psychologie. München: Pearson Studium.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mirka Henninger, Simone Malejka.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
